<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
          PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" 
          "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
       
<mapper namespace="myBoard">

	<select id="allBoards" resultType="Board">		
		<![CDATA[
			SELECT boardNum, boardTitle, boardContent, boardAuthor, boardDate, boardLike
            FROM boards
            ORDER BY boardNum DESC;		
		]]>
	</select>
	
	<select id="allComments" parameterType="Comments" resultType="Comments">
	     <![CDATA[
	         SELECT commentsId, commentsContents, commentsDate
	         FROM comments
	         WHERE commentsArticleNum = #{commentsArticleNum}
	         ORDER BY commentsNum DESC;
	     ]]>
	</select>
	
	<insert id="newArticle" parameterType="Board">
         <![CDATA[
             INSERT INTO boards (boardTitle, boardContent, boardAuthor, boardLike)
             VALUES ( #{boardTitle}, #{boardContent}, #{boardAuthor}, 0)
         ]]>
	</insert>

    <select id="articleDetails" resultType="Board">
        <![CDATA[
			SELECT boardNum, boardTitle, boardContent, boardAuthor, boardDate, boardLike
            FROM boards
            WHERE boardNum = #{boardNum}
            ]]>
    </select>
    
    <insert id="newComments" parameterType="Comments">
         <![CDATA[
            INSERT INTO comments (commentsAriticleNum, commentsId, commentsContents)
            VALUES ( #{commentsArticleNum}, #{commentsId}, #{commentsContents})
         ]]>
    </insert>
   
</mapper>
